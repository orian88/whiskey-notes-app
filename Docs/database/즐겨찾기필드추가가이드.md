# 즐겨찾기(버킷 리스트) 필드 추가 가이드

## 개요
whiskeys 테이블에 `is_favorite` 컬럼을 추가하여 즐겨찾기 기능을 구현합니다.

## 1. 데이터베이스 스키마 업데이트

### SQL 스크립트 실행
Supabase SQL Editor에서 다음 SQL을 실행하세요:

```sql
-- whiskeys 테이블에 is_favorite 필드 추가
ALTER TABLE whiskeys ADD COLUMN IF NOT EXISTS is_favorite BOOLEAN DEFAULT false;

-- 인덱스 생성 (성능 최적화)
CREATE INDEX IF NOT EXISTS idx_whiskeys_is_favorite ON whiskeys(is_favorite);

-- 코멘트 추가
COMMENT ON COLUMN whiskeys.is_favorite IS '위스키 즐겨찾기 여부 (버킷 리스트)';
```

또는 `Docs/database/add-favorite-field.sql` 파일의 내용을 실행하세요.

## 2. 기능 설명

### 즐겨찾기 버튼
- 위스키 상세보기 페이지에서 이미지 왼쪽 상단에 즐겨찾기 버튼이 표시됩니다.
- 클릭하여 즐겨찾기를 추가/제거할 수 있습니다.
- 즐겨찾기가 선택된 경우: ❤️ (빨간색)
- 즐겨찾기가 선택되지 않은 경우: 🤍 (회색)

### 목록 | 카트 탭
- 위스키 목록 페이지에 두 개의 탭이 있습니다:
  - **목록**: 모든 위스키를 표시
  - **카트**: 즐겨찾기된 위스키만 표시 (버킷 리스트)

### 카트 기능
- 카트 탭에서는 즐겨찾기로 체크된 위스키만 표시됩니다.
- 다른 탭(가격관리, 요약, 설정)과 동일하게 위스키 상세보기와 연결됩니다.
- 목록과 동일한 UI 구성(이미지, 이름, 브랜드, 타입, 지역 등)을 사용합니다.

## 3. 사용 방법

### 즐겨찾기 추가
1. 위스키 목록에서 원하는 위스키 선택
2. 위스키 상세보기 화면으로 이동
3. 이미지 왼쪽 상단의 하트 아이콘 클릭
4. 하트 아이콘이 빨간색(❤️)으로 변경됨

### 카트에서 확인
1. 위스키 목록 페이지에서 "카트" 탭 클릭
2. 즐겨찾기된 위스키 목록 확인
3. 카트의 위스키도 클릭하여 상세보기 가능

## 4. 기술 사항

### 수정된 파일
- `whiskey-notes-app/src/types/index.ts`: `IWhiskey` 인터페이스에 `is_favorite` 필드 추가
- `whiskey-notes-app/src/pages/m_WhiskeyDetail.tsx`: 즐겨찾기 버튼 추가 및 토글 기능 구현
- `whiskey-notes-app/src/pages/m_WhiskeyList.tsx`: 카트 탭 추가 및 즐겨찾기 필터링 로직 구현

### 데이터 흐름
1. 사용자가 상세보기에서 즐겨찾기 버튼 클릭
2. `toggleFavorite()` 함수가 `whiskeys` 테이블의 `is_favorite` 값을 업데이트
3. 목록 페이지에서 "카트" 탭 클릭 시 `is_favorite=true` 조건으로 필터링
4. 즐겨찾기된 위스키만 표시

## 5. 주의사항

- 즐겨찾기 기능은 각 사용자가 개별적으로 관리합니다.
- 즐겨찾기는 데이터베이스에 영구 저장됩니다.
- 현재는 모든 사용자의 즐겨찾기가 동일하게 표시됩니다 (향후 사용자별 분리 가능).

